{"version":3,"file":"esri-leaflet-vector-debug.js","sources":["../src/Util.js","../src/MapBoxGLLayer.js","../src/VectorBasemapLayer.js","../src/VectorTileLayer.js"],"sourcesContent":["import { latLng, latLngBounds } from 'leaflet';\nimport { request, Support, Util } from 'esri-leaflet';\n\n/*\n  utility to establish a URL for the basemap styles API\n  used primarily by VectorBasemapLayer.js\n*/\nexport function getBasemapStyleUrl (key, apikey) {\n  var url =\n    'https://basemaps-api.arcgis.com/arcgis/rest/services/styles/' +\n    key +\n    '?type=style';\n  if (apikey) {\n    url = url + '&apiKey=' + apikey;\n  }\n  return url;\n}\n\n/*\n  utilities to communicate with custom user styles via an ITEM ID or SERVICE URL\n  used primarily by VectorTileLayer.js\n*/\nexport function loadStyle (idOrUrl, options, callback) {\n  var httpRegex = /^https?:\\/\\//;\n  var serviceRegex = /\\/VectorTileServer\\/?$/;\n\n  if (httpRegex.test(idOrUrl) && serviceRegex.test(idOrUrl)) {\n    var serviceUrl = idOrUrl;\n    loadStyleFromService(serviceUrl, options, callback);\n  } else {\n    var itemId = idOrUrl;\n    loadStyleFromItem(itemId, options, callback);\n  }\n}\n\nexport function loadService (serviceUrl, options, callback) {\n  var params = options.token ? { token: options.token } : {};\n  request(serviceUrl, params, callback);\n}\n\nfunction loadItem (itemId, options, callback) {\n  var params = options.token ? { token: options.token } : {};\n  var url = '';\n\n  if (options.useCustomUrlOrPath) {\n    url = options.baseUrl + '/' + itemId;\n  } else {\n    url = options.portalUrl +\n    '/sharing/rest/content/items/' +\n    itemId;\n  }\n\n  request(url, params, callback);\n}\n\nfunction loadStyleFromItem (itemId, options, callback) {\n  var itemStyleUrl = '';\n\n  if (options.useCustomUrlOrPath) {\n    itemStyleUrl = options.baseUrl + '/' + itemId + '/' + options.stylePath;\n  } else {\n    itemStyleUrl = options.portalUrl +\n    '/sharing/rest/content/items/' +\n    itemId +\n    '/resources/styles/root.json';\n  }\n\n  loadStyleFromUrl(itemStyleUrl, options, function (error, style) {\n    if (error) {\n      loadItem(itemId, options, function (error, item) {\n        if (error) {\n          console.error(error);\n          callback(error);\n          return;\n        }\n        loadStyleFromService(item.url, options, callback);\n      });\n    } else {\n      loadItem(itemId, options, function (error, item) {\n        if (error) {\n          console.error(error);\n          callback(error);\n          return;\n        }\n        loadService(item.url, options, function (error, service) {\n          callback(error, style, itemStyleUrl, service, item.url);\n        });\n      });\n    }\n  });\n}\n\nfunction loadStyleFromService (serviceUrl, options, callback) {\n  loadService(serviceUrl, options, function (error, service) {\n    if (error) {\n      console.error(error);\n    }\n\n    var sanitizedServiceUrl = serviceUrl;\n    // a trailing \"/\" may create invalid paths\n    if (serviceUrl.charAt(serviceUrl.length - 1) === '/') {\n      sanitizedServiceUrl = serviceUrl.slice(0, serviceUrl.length - 1);\n    }\n\n    var defaultStylesUrl;\n    // inadvertently inserting more than 1 adjacent \"/\" may create invalid paths\n    if (service.defaultStyles.charAt(0) === '/') {\n      defaultStylesUrl =\n        sanitizedServiceUrl + service.defaultStyles + '/root.json';\n    } else {\n      defaultStylesUrl =\n        sanitizedServiceUrl + '/' + service.defaultStyles + '/root.json';\n    }\n\n    loadStyleFromUrl(defaultStylesUrl, options, function (error, style) {\n      if (error) {\n        console.error(error);\n      }\n      callback(null, style, defaultStylesUrl, service, serviceUrl);\n    });\n  });\n}\n\nfunction loadStyleFromUrl (styleUrl, options, callback) {\n  var params = options.token ? { token: options.token } : {};\n  request(styleUrl, params, callback);\n}\n\nexport function formatStyle (style, styleUrl, metadata, token) {\n  // transforms style object in place and also returns it\n\n  // modify each source in style.sources\n  var sourcesKeys = Object.keys(style.sources);\n  for (var sourceIndex = 0; sourceIndex < sourcesKeys.length; sourceIndex++) {\n    var source = style.sources[sourcesKeys[sourceIndex]];\n\n    // if a relative path is referenced, the default style can be found in a standard location\n    if (source.url.indexOf('http') === -1) {\n      source.url = styleUrl.replace('/resources/styles/root.json', '');\n    }\n\n    // a trailing \"/\" may create invalid paths\n    if (source.url.charAt(source.url.length - 1) === '/') {\n      source.url = source.url.slice(0, source.url.length - 1);\n    }\n\n    // add tiles property if missing\n    if (!source.tiles) {\n      // right now ArcGIS Pro published vector services have a slightly different signature\n      // the '/' is needed in the URL string concatenation below for source.tiles\n      if (metadata.tiles && metadata.tiles[0].charAt(0) !== '/') {\n        metadata.tiles[0] = '/' + metadata.tiles[0];\n      }\n\n      source.tiles = [source.url + metadata.tiles[0]];\n    }\n\n    // some VectorTileServer endpoints may default to returning f=html,\n    // specify f=json to account for that behavior\n    source.url += '?f=json';\n\n    // add the token to the source url and tiles properties as a query param\n    source.url += token ? '&token=' + token : '';\n    source.tiles[0] += token ? '?token=' + token : '';\n\n    // add minzoom and maxzoom to each source based on the service metadata\n    source.minzoom = metadata.tileInfo.lods[0].level;\n    source.maxzoom =\n      metadata.tileInfo.lods[metadata.tileInfo.lods.length - 1].level;\n  }\n\n  // add the attribution and copyrightText properties to the last source in style.sources based on the service metadata\n  var lastSource = style.sources[sourcesKeys[sourcesKeys.length - 1]];\n  lastSource.attribution = metadata.copyrightText || '';\n  lastSource.copyrightText = metadata.copyrightText || '';\n\n  // if any layer in style.layers has a layout.text-font property (it will be any array of strings) remove all items in the array after the first\n  for (var layerIndex = 0; layerIndex < style.layers.length; layerIndex++) {\n    var layer = style.layers[layerIndex];\n    if (\n      layer.layout &&\n      layer.layout['text-font'] &&\n      layer.layout['text-font'].length > 1\n    ) {\n      layer.layout['text-font'] = [layer.layout['text-font'][0]];\n    }\n  }\n\n  if (style.sprite && style.sprite.indexOf('http') === -1) {\n    // resolve absolute URL for style.sprite\n    style.sprite = styleUrl.replace(\n      'styles/root.json',\n      style.sprite.replace('../', '')\n    );\n\n    // add the token to the style.sprite property as a query param\n    style.sprite += token ? '?token=' + token : '';\n  }\n\n  if (style.glyphs && style.glyphs.indexOf('http') === -1) {\n    // resolve absolute URL for style.glyphs\n    style.glyphs = styleUrl.replace(\n      'styles/root.json',\n      style.glyphs.replace('../', '')\n    );\n\n    // add the token to the style.glyphs property as a query param\n    style.glyphs += token ? '?token=' + token : '';\n  }\n\n  return style;\n}\n\n/*\n  utility to assist with dynamic attribution data\n  used primarily by VectorBasemapLayer.js\n*/\nexport function getAttributionData (url, map) {\n  if (Support.cors) {\n    request(url, {}, function (error, attributions) {\n      if (error) {\n        return;\n      }\n      map._esriAttributions = map._esriAttributions || [];\n      for (var c = 0; c < attributions.contributors.length; c++) {\n        var contributor = attributions.contributors[c];\n\n        for (var i = 0; i < contributor.coverageAreas.length; i++) {\n          var coverageArea = contributor.coverageAreas[i];\n          var southWest = latLng(coverageArea.bbox[0], coverageArea.bbox[1]);\n          var northEast = latLng(coverageArea.bbox[2], coverageArea.bbox[3]);\n          map._esriAttributions.push({\n            attribution: contributor.attribution,\n            score: coverageArea.score,\n            bounds: latLngBounds(southWest, northEast),\n            minZoom: coverageArea.zoomMin,\n            maxZoom: coverageArea.zoomMax\n          });\n        }\n      }\n\n      map._esriAttributions.sort(function (a, b) {\n        return b.score - a.score;\n      });\n\n      // pass the same argument as the map's 'moveend' event\n      var obj = { target: map };\n      Util._updateMapAttribution(obj);\n    });\n  }\n}\n\n/*\n  utility to check if a service's tileInfo spatial reference is in Web Mercator\n  used primarily by VectorTileLayer.js\n*/\nconst WEB_MERCATOR_WKIDS = [3857, 102100, 102113];\n\nexport function isWebMercator (wkid) {\n  return WEB_MERCATOR_WKIDS.indexOf(wkid) >= 0;\n}\n","import {\n  DomEvent,\n  DomUtil,\n  extend,\n  latLngBounds,\n  Layer,\n  setOptions,\n  Util\n} from 'leaflet';\nimport mapboxgl from 'mapbox-gl';\n\nexport var MapboxGLJSLayer = Layer.extend({\n  options: {\n    updateInterval: 32,\n    // How much to extend the overlay view (relative to map size)\n    // e.g. 0.1 would be 10% of map view in each direction\n    padding: 0.1,\n    // whether or not to register the mouse and keyboard\n    // events on the mapbox overlay\n    interactive: false,\n    opacity: 1,\n    zIndex: null\n  },\n\n  initialize: function (options) {\n    setOptions(this, options);\n\n    // setup throttling the update event when panning\n    this._throttledUpdate = Util.throttle(\n      this._update,\n      this.options.updateInterval,\n      this\n    );\n  },\n\n  onAdd: function (map) {\n    if (!this._container) {\n      this._initContainer();\n    }\n\n    this.getPane().appendChild(this._container);\n\n    this._initGL();\n\n    this._offset = this._map.containerPointToLayerPoint([0, 0]);\n\n    // work around https://github.com/mapbox/mapbox-gl-leaflet/issues/47\n    if (map.options.zoomAnimation) {\n      DomEvent.on(\n        map._proxy,\n        DomUtil.TRANSITION_END,\n        this._transitionEnd,\n        this\n      );\n    }\n  },\n\n  onRemove: function (map) {\n    if (this._map._proxy && this._map.options.zoomAnimation) {\n      DomEvent.off(\n        this._map._proxy,\n        DomUtil.TRANSITION_END,\n        this._transitionEnd,\n        this\n      );\n    }\n\n    this.getPane().removeChild(this._container);\n    this._glMap.remove();\n    this._glMap = null;\n  },\n\n  getEvents: function () {\n    return {\n      move: this._throttledUpdate, // sensibly throttle updating while panning\n      zoomanim: this._animateZoom, // applys the zoom animation to the <canvas>\n      zoom: this._pinchZoom, // animate every zoom event for smoother pinch-zooming\n      zoomstart: this._zoomStart, // flag starting a zoom to disable panning\n      zoomend: this._zoomEnd\n    };\n  },\n\n  getMapboxMap: function () {\n    return this._glMap;\n  },\n\n  getCanvas: function () {\n    return this._glMap.getCanvas();\n  },\n\n  getSize: function () {\n    return this._map.getSize().multiplyBy(1 + this.options.padding * 2);\n  },\n\n  getOpacity: function () {\n    return this.options.opacity;\n  },\n\n  setOpacity: function (opacity) {\n    this.options.opacity = opacity;\n    this._container.style.opacity = opacity;\n  },\n\n  getZIndex: function () {\n    return this.options.zIndex;\n  },\n\n  setZIndex: function (zIndex) {\n    this.options.zIndex = zIndex;\n    if (this._container) {\n      this._container.style.zIndex = zIndex;\n    }\n  },\n\n  getBounds: function () {\n    var halfSize = this.getSize().multiplyBy(0.5);\n    var center = this._map.latLngToContainerPoint(this._map.getCenter());\n    return latLngBounds(\n      this._map.containerPointToLatLng(center.subtract(halfSize)),\n      this._map.containerPointToLatLng(center.add(halfSize))\n    );\n  },\n\n  getContainer: function () {\n    return this._container;\n  },\n\n  _initContainer: function () {\n    var container = (this._container = DomUtil.create(\n      'div',\n      'leaflet-gl-layer'\n    ));\n\n    var size = this.getSize();\n    var offset = this._map.getSize().multiplyBy(this.options.padding);\n    container.style.width = size.x + 'px';\n    container.style.height = size.y + 'px';\n    container.style.position = 'absolute';\n    container.style.opacity = this.options.opacity;\n    if (this.options.zIndex) {\n      container.style.zIndex = this.options.zIndex;\n    }\n    var topLeft = this._map.containerPointToLayerPoint([0, 0]).subtract(offset);\n\n    DomUtil.setPosition(container, topLeft);\n  },\n\n  _initGL: function () {\n    var center = this._map.getCenter();\n\n    var options = extend({}, this.options, {\n      container: this._container,\n      center: [center.lng, center.lat],\n      zoom: this._map.getZoom() - 1,\n      attributionControl: false\n    });\n\n    this._glMap = new mapboxgl.Map(options);\n\n    // Fire event for MapboxGL \"styledata\" event.\n    this._glMap.once('styledata', function (res) {\n      this.fire('styleLoaded');\n    }.bind(this));\n\n    // allow GL base map to pan beyond min/max latitudes\n    this._glMap.transform.latRange = null;\n    this._transformGL(this._glMap);\n\n    if (this._glMap._canvas.canvas) {\n      // older versions of mapbox-gl surfaced the canvas differently\n      this._glMap._actualCanvas = this._glMap._canvas.canvas;\n    } else {\n      this._glMap._actualCanvas = this._glMap._canvas;\n    }\n\n    // treat child <canvas> element like L.ImageOverlay\n    var canvas = this._glMap._actualCanvas;\n    DomUtil.addClass(canvas, 'leaflet-image-layer');\n    DomUtil.addClass(canvas, 'leaflet-zoom-animated');\n    if (this.options.interactive) {\n      DomUtil.addClass(canvas, 'leaflet-interactive');\n    }\n    if (this.options.className) {\n      DomUtil.addClass(canvas, this.options.className);\n    }\n  },\n\n  _update: function (e) {\n    // update the offset so we can correct for it later when we zoom\n    this._offset = this._map.containerPointToLayerPoint([0, 0]);\n\n    if (this._zooming) {\n      return;\n    }\n\n    var size = this.getSize();\n    var container = this._container;\n    var gl = this._glMap;\n    var offset = this._map.getSize().multiplyBy(this.options.padding);\n    var topLeft = this._map.containerPointToLayerPoint([0, 0]).subtract(offset);\n\n    DomUtil.setPosition(container, topLeft);\n\n    this._transformGL(gl);\n\n    if (gl.transform.width !== size.x || gl.transform.height !== size.y) {\n      container.style.width = size.x + 'px';\n      container.style.height = size.y + 'px';\n      if (gl._resize !== null && gl._resize !== undefined) {\n        gl._resize();\n      } else {\n        gl.resize();\n      }\n    } else {\n      // older versions of mapbox-gl surfaced update publicly\n      if (gl._update !== null && gl._update !== undefined) {\n        gl._update();\n      } else {\n        gl.update();\n      }\n    }\n  },\n\n  _transformGL: function (gl) {\n    var center = this._map.getCenter();\n\n    // gl.setView([center.lat, center.lng], this._map.getZoom() - 1, 0);\n    // calling setView directly causes sync issues because it uses requestAnimFrame\n\n    var tr = gl.transform;\n    tr.center = mapboxgl.LngLat.convert([center.lng, center.lat]);\n    tr.zoom = this._map.getZoom() - 1;\n  },\n\n  // update the map constantly during a pinch zoom\n  _pinchZoom: function (e) {\n    this._glMap.jumpTo({\n      zoom: this._map.getZoom() - 1,\n      center: this._map.getCenter()\n    });\n  },\n\n  // borrowed from L.ImageOverlay\n  // https://github.com/Leaflet/Leaflet/blob/master/src/layer/ImageOverlay.js#L139-L144\n  _animateZoom: function (e) {\n    var scale = this._map.getZoomScale(e.zoom);\n    var padding = this._map.getSize().multiplyBy(this.options.padding * scale);\n    var viewHalf = this.getSize()._divideBy(2);\n    // corrections for padding (scaled), adapted from\n    // https://github.com/Leaflet/Leaflet/blob/master/src/map/Map.js#L1490-L1508\n    var topLeft = this._map\n      .project(e.center, e.zoom)\n      ._subtract(viewHalf)\n      ._add(this._map._getMapPanePos().add(padding))\n      ._round();\n    var offset = this._map\n      .project(this._map.getBounds().getNorthWest(), e.zoom)\n      ._subtract(topLeft);\n\n    DomUtil.setTransform(\n      this._glMap._actualCanvas,\n      offset.subtract(this._offset),\n      scale\n    );\n  },\n\n  _zoomStart: function (e) {\n    this._zooming = true;\n  },\n\n  _zoomEnd: function () {\n    var scale = this._map.getZoomScale(this._map.getZoom());\n\n    DomUtil.setTransform(\n      this._glMap._actualCanvas,\n      null,\n      scale\n    );\n\n    this._zooming = false;\n\n    this._update();\n  },\n\n  _transitionEnd: function (e) {\n    Util.requestAnimFrame(function () {\n      var zoom = this._map.getZoom();\n      var center = this._map.getCenter();\n      var offset = this._map.latLngToContainerPoint(\n        this._map.getBounds().getNorthWest()\n      );\n\n      // reset the scale and offset\n      DomUtil.setTransform(this._glMap._actualCanvas, offset, 1);\n\n      // enable panning once the gl map is ready again\n      this._glMap.once(\n        'moveend',\n        Util.bind(function () {\n          this._zoomEnd();\n        }, this)\n      );\n\n      // update the map position\n      this._glMap.jumpTo({\n        center: center,\n        zoom: zoom - 1\n      });\n    }, this);\n  }\n});\n\nexport function mapboxGLJSLayer (options) {\n  return new MapboxGLJSLayer(options);\n}\n","import { Layer, setOptions } from 'leaflet';\nimport { Util } from 'esri-leaflet';\nimport { getBasemapStyleUrl, getAttributionData } from './Util';\nimport { mapboxGLJSLayer } from './MapBoxGLLayer';\n\nexport var VectorBasemapLayer = Layer.extend({\n  options: {\n    key: 'ArcGIS:Streets', // default style key enum if none provided,\n    zIndex: null // a custom zIndex for the layer container\n  },\n\n  /**\n   * Populates \"this.options\" to be used in the rest of the module.\n   *\n   * @param {string} key\n   * @param {object} options optional\n   */\n  initialize: function (key, options) {\n    if (options) {\n      setOptions(this, options);\n    }\n\n    // support outdated casing apiKey of apikey\n    if (this.options.apiKey) {\n      this.options.apikey = this.options.apiKey;\n    }\n\n    // if token is passed in, use it as an apiKey\n    if (this.options.token) {\n      this.options.apikey = this.options.token;\n    }\n\n    // If no API Key or token is required:\n    if (!(this.options.apikey || this.options.token)) {\n      throw new Error('API Key or token is required for vectorBasemapLayer.');\n    }\n\n    // set key onto \"this.options\" for use elsewhere in the module.\n    if (key) {\n      this.options.key = key;\n    }\n\n    // this.options has been set, continue on to create the layer:\n    this._createLayer();\n  },\n\n  getZIndex: function () {\n    return this.options.zIndex;\n  },\n\n  setZIndex: function (zIndex) {\n    this.options.zIndex = zIndex;\n    if (this._mapboxGL) {\n      this._mapboxGL.setZIndex(zIndex);\n    }\n  },\n\n  /**\n   * Creates the mapboxGLJSLayer given using \"this.options\"\n   */\n  _createLayer: function () {\n    var styleUrl = getBasemapStyleUrl(this.options.key, this.options.apikey);\n\n    this._mapboxGL = mapboxGLJSLayer({\n      style: styleUrl,\n      pane: this.options.pane,\n      opacity: this.options.opacity,\n      zIndex: this.options.zIndex\n    });\n\n    this._ready = true;\n    this.fire('ready', {}, true);\n\n    this._mapboxGL.on('styleLoaded', function (res) {\n      this._setupAttribution();\n    }.bind(this));\n  },\n\n  _setupAttribution: function () {\n    var map = this._map;\n    // Set attribution\n    Util.setEsriAttribution(map);\n\n    if (this.options.key.length === 32) {\n      // this is an itemId\n      var sources = this._mapboxGL.getMapboxMap().style.stylesheet.sources;\n      var allAttributions = [];\n      Object.keys(sources).forEach(function (key) {\n        allAttributions.push(sources[key].attribution);\n        if (sources[key].copyrightText && sources[key].copyrightText && sources[key].copyrightText !== '' && sources[key].attribution !== sources[key].copyrightText) {\n          allAttributions.push(sources[key].copyrightText);\n        }\n      });\n\n      map.attributionControl.addAttribution('<span class=\"\">' + allAttributions.join(', ') + '</span>');\n    } else {\n      // this is an enum\n      if (!this.options.attributionUrls) {\n        this.options.attributionUrls = this._getAttributionUrls(this.options.key);\n      }\n\n      if (this._map && this.options.attributionUrls) {\n        if (this._map.attributionControl) {\n          for (\n            let index = 0;\n            index < this.options.attributionUrls.length;\n            index++\n          ) {\n            const attributionUrl = this.options.attributionUrls[index];\n            getAttributionData(attributionUrl, map);\n          }\n\n          map.attributionControl.addAttribution(\n            '<span class=\"esri-dynamic-attribution\"></span>'\n          );\n        }\n        Util._updateMapAttribution({ target: this._map });\n      }\n    }\n  },\n\n  /**\n   * Given a key, return the attribution url(s).\n   * @param {string} key\n   */\n  _getAttributionUrls: function (key) {\n    if (key.indexOf('OSM:') === 0) {\n      return ['https://static.arcgis.com/attribution/Vector/OpenStreetMap_v2'];\n    } else if (key.indexOf('ArcGIS:Imagery') === 0) {\n      return [\n        'https://static.arcgis.com/attribution/World_Imagery',\n        'https://static.arcgis.com/attribution/Vector/World_Basemap_v2'\n      ];\n    }\n\n    // default:\n    return ['https://static.arcgis.com/attribution/Vector/World_Basemap_v2'];\n  },\n\n  onAdd: function (map) {\n    this._map = map;\n\n    this._initPane();\n\n    if (this._ready) {\n      this._asyncAdd();\n    } else {\n      this.once(\n        'ready',\n        function () {\n          this._asyncAdd();\n        },\n        this\n      );\n    }\n  },\n\n  _initPane: function () {\n    // if the layer is a \"label\" layer, should use the \"esri-label\" pane.\n    if (!this.options.pane) {\n      if (this.options.key.indexOf(':Labels') > -1) {\n        this.options.pane = 'esri-labels';\n      } else {\n        this.options.pane = 'tilePane';\n      }\n    }\n\n    if (!this._map.getPane(this.options.pane)) {\n      var pane = this._map.createPane(this.options.pane);\n      pane.style.pointerEvents = 'none';\n      pane.style.zIndex = this.options.pane === 'esri-labels' ? 550 : 500;\n    }\n  },\n\n  onRemove: function (map) {\n    map.off('moveend', Util._updateMapAttribution);\n    map.removeLayer(this._mapboxGL);\n\n    if (map.attributionControl) {\n      var element = document.getElementsByClassName('esri-dynamic-attribution');\n\n      if (element && element.length > 0) {\n        var vectorAttribution = element[0].outerHTML;\n        // this doesn't work, not sure why.\n        map.attributionControl.removeAttribution(vectorAttribution);\n      }\n    }\n  },\n\n  _asyncAdd: function () {\n    var map = this._map;\n    // If the layer was removed, this._map will be null\n    if (map === null) {\n      return;\n    }\n    map.on('moveend', Util._updateMapAttribution);\n    this._mapboxGL.setZIndex(this.options.zIndex);\n    this._mapboxGL.addTo(map, this);\n  }\n});\n\nexport function vectorBasemapLayer (key, options) {\n  return new VectorBasemapLayer(key, options);\n}\n\nexport default vectorBasemapLayer;\n","import { Layer, setOptions } from 'leaflet';\nimport { loadStyle, formatStyle, isWebMercator } from './Util';\nimport { mapboxGLJSLayer } from './MapBoxGLLayer';\n\nexport var VectorTileLayer = Layer.extend({\n  options: {\n    // if pane is not provided, default to LeafletJS's overlayPane\n    // https://leafletjs.com/reference.html#map-pane\n    pane: 'overlayPane',\n\n    // if portalUrl is not provided, default to ArcGIS Online\n    portalUrl: 'https://www.arcgis.com',\n\n    // flag to use baseUrl and stylePath options (defaults below)\n    useCustomUrlOrPath: false,\n\n    // if baseUrl is not provided, default path to items on ArcGIS Online\n    baseUrl: 'https://www.arcgis.com/sharing/rest/content/items',\n\n    // if stylePath is not provided, default ArcGIS Online stylePath\n    stylePath: 'resources/styles/root.json',\n\n    // a custom zIndex of the layer container\n    zIndex: null\n  },\n\n  /**\n   * Populates \"this.options\" to be used in the rest of the module and creates the layer instance.\n   *\n   * @param {string} key an ITEM ID or SERVICE URL\n   * @param {object} options optional\n   */\n  initialize: function (key, options) {\n    if (options) {\n      setOptions(this, options);\n    }\n\n    // support outdated casing apiKey of apikey\n    if (this.options.apiKey) {\n      this.options.apikey = this.options.apiKey;\n    }\n\n    // if apiKey is passed in, use it as a token\n    // (opposite from VectorBasemapLayer.js)\n    if (this.options.apikey) {\n      this.options.token = this.options.apikey;\n    }\n\n    // if no key passed in\n    if (!key) {\n      throw new Error('An ITEM ID or SERVICE URL is required for vectorTileLayer.');\n    }\n\n    // set key onto \"this.options\" for use elsewhere in the module.\n    if (key) {\n      this.options.key = key;\n    }\n\n    // this.options has been set, continue on to create the layer:\n    this._createLayer();\n  },\n\n  getZIndex: function () {\n    return this.options.zIndex;\n  },\n\n  setZIndex: function (zIndex) {\n    this.options.zIndex = zIndex;\n    if (this._mapboxGL) {\n      this._mapboxGL.setZIndex(zIndex);\n    }\n  },\n\n  /**\n   * Creates the mapboxGLJSLayer given using \"this.options\"\n   */\n  _createLayer: function () {\n    loadStyle(\n      this.options.key,\n      this.options,\n      function (error, style, styleUrl, service) {\n        if (error) {\n          if (this.options.errorCallback) {\n            this.options.errorCallback(error);\n            return;\n          } else {\n            throw new Error(error);\n          }\n        }\n\n        if (!style.sources) {\n          if (this.options.errorCallback) {\n            this.options.errorCallback('incorrect style path detected');\n            return;\n          } else {\n            throw new Error('incorrect style path detected');\n          }\n        }\n\n        if (!isWebMercator(service.tileInfo.spatialReference.wkid)) {\n          console.warn(\n            'This layer is not guaranteed to display properly because its service does not use the Web Mercator projection. The \"tileInfo.spatialReference\" property is:',\n            service.tileInfo.spatialReference,\n            '\\nMore information is available at https://docs.mapbox.com/help/glossary/projection/ and https://github.com/Esri/esri-leaflet-vector/issues/94.'\n          );\n        }\n\n        // once style object is loaded it must be transformed to be compliant with mapboxGLJSLayer\n        style = formatStyle(style, styleUrl, service, this.options.token);\n\n        // if a custom attribution was not provided in the options,\n        // then attempt to rely on the attribution of the last source in the style object\n        // and add it to the map's attribution control\n        // (otherwise it would have already been added by leaflet to the attribution control)\n        if (!this.getAttribution()) {\n          var sourcesKeys = Object.keys(style.sources);\n          this.options.attribution = style.sources[sourcesKeys[sourcesKeys.length - 1]].attribution;\n          if (this._map && this._map.attributionControl) {\n            // NOTE: if attribution is an empty string (or otherwise falsy) at this point it would not appear in the attribution control\n            this._map.attributionControl.addAttribution(this.getAttribution());\n          }\n        }\n\n        // additionally modify the style object with the user's optional style override function\n        if (this.options.style && typeof this.options.style === 'function') {\n          style = this.options.style(style);\n        }\n\n        this._mapboxGL = mapboxGLJSLayer({\n          style: style,\n          pane: this.options.pane,\n          opacity: this.options.opacity,\n          zIndex: this.options.zIndex\n        });\n\n        this._ready = true;\n        this.fire('ready', {}, true);\n      }.bind(this)\n    );\n  },\n\n  onAdd: function (map) {\n    this._map = map;\n\n    if (this._ready) {\n      this._asyncAdd();\n    } else {\n      this.once(\n        'ready',\n        function () {\n          this._asyncAdd();\n        },\n        this\n      );\n    }\n  },\n\n  onRemove: function (map) {\n    if (this._mapboxGL) {\n      map.removeLayer(this._mapboxGL);\n    }\n  },\n\n  _asyncAdd: function () {\n    var map = this._map;\n\n    // If the layer was removed, this._map will be null\n    if (map === null) {\n      return;\n    }\n\n    this._mapboxGL.setZIndex(this.options.zIndex);\n    this._mapboxGL.addTo(map, this);\n  }\n});\n\nexport function vectorTileLayer (key, options) {\n  return new VectorTileLayer(key, options);\n}\n\nexport default vectorTileLayer;\n"],"names":["request","Support","latLng","latLngBounds","Util","Layer","setOptions","DomEvent","DomUtil","extend","mapboxgl"],"mappings":"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"}